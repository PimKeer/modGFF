import numpy as np
import matplotlib.pyplot as plt

def ber(GZ,L,d,h):
    GZ = GZ.flatten()
    perc = np.zeros(len(GZ))
    for i in range(len(GZ)):
        if GZ[i] >= h:
            perc[i] = 1
    perc = np.resize(perc, d*(L-1,))
    return perc

g = np.array([[-9.49347294e+01,  3.26952201e+01, -2.54276612e+02, -3.50375829e+02,
  -1.11508628e+02,  2.47484126e+01,  3.19533206e+02,  5.50570981e+01,
   1.20531704e+02, -3.90574244e+02,  1.27059629e+01, -2.97783780e+02,
   1.65724925e+01, -6.26114639e+01],
 [ 2.00009487e+02, -3.24611315e+02,  7.57104050e+01,  2.90079075e+02,
   1.49439684e+02,  8.45664584e+01,  1.66397707e+00, -2.63441697e+02,
  -1.19638722e+02, -2.92898902e+02, -3.13703045e+02, -3.04654272e+02,
  -1.73181297e+02, -2.81035580e+02],
 [ 1.71520861e+02, -1.02387462e+02,  1.44579148e+02,  4.06750017e+00,
   2.21575124e+02, -3.21294825e+02, -1.72228722e+02,  1.63263280e+02,
   2.11531326e+02,  7.10341976e+01, -1.56539831e+01,  5.69586940e+01,
   2.31789297e+02, -6.56569926e+01],
 [-4.74379911e+01, -3.19489181e+02, -3.17256118e+02,  1.26017337e+02,
   8.36242147e+01, -1.30087675e+02, -3.96018830e+01, -7.43762065e+00,
   1.32943298e+02, -1.79939629e+02,  7.27083847e+01, -1.28309101e+02,
  -2.53321271e+02, -1.02562888e+02],
 [ 2.02672445e+01, -2.06949421e+02,  6.37298241e+00,  3.71599954e+02,
   2.51721116e+01, -5.57496361e-02, -2.81854762e+02, -2.81234111e+01,
   3.42119462e+01,  5.49705020e+02,  2.02878599e+02,  3.70657632e+02,
  -9.60154424e+01, -2.00769938e+02],
 [ 7.53143433e+01,  1.13982743e+02, -6.89403811e+02, -1.09792738e+02,
   5.37461553e+02,  4.77153150e+02,  1.75353193e+01, -1.25770869e+02,
  -2.02453220e+02, -1.43369605e+02,  3.85172434e+02, -2.63244833e+02,
   2.11661628e+02,  7.42171751e+01],
 [-1.33877129e+02,  1.83360309e+02,  5.94983444e+01, -7.75791398e+00,
  -3.68729058e+01,  6.63134665e+01,  3.49288280e+02, -2.41075918e+01,
   7.12676282e+01,  2.56210295e+01, -2.95969876e+02,  1.12228544e+02,
   1.22074959e+02, -6.62368030e+00],
 [-1.52828576e+02,  2.05103892e+02, -4.70825780e+00, -6.09793129e+01,
   2.50479239e+02,  6.06869259e+02,  2.75524802e+02,  2.85432252e+00,
   2.95712904e+01,  8.95055119e+01, -1.41648024e+02,  2.16285777e+01,
   1.41689098e+02,  8.51295567e+01],
 [ 2.73872171e+02,  2.69488193e+02, -6.80790009e+01,  6.33553292e+01,
   9.71739898e+01, -5.36691799e+02,  4.58329021e+02,  1.19329421e+02,
  -2.34636730e+02, -1.75326674e+02, -2.00263087e+02, -2.37029679e+02,
   2.09323358e+02, -8.38152003e+01],
 [-3.26924927e+02,  7.11526609e+01,  1.88041311e+02, -8.85079716e+01,
   9.48211433e+01, -5.34977906e+02,  -2.51878742e+02,  3.00404643e+02,
  -4.32369568e+01,  3.14271089e+02, 1.90687724e+01,  1.13035313e+01,
   1.64676602e+01,  2.61605820e+01],
 [-3.91922283e+01,  2.08427003e+02, 2.37878782e+02, -1.55437951e+02,
  -4.72077194e+02,  9.48625351e+01,  2.00088955e+02, -5.99143563e+02,
  -5.32485829e+02, -2.28292602e+02,  1.98787878e+02,  3.01366620e+02,
   1.48420562e+02, -1.19022041e+02],
 [-7.74622473e+01, -2.92671904e+02,  3.14874947e+02,  6.01058269e+01,
  -2.78709403e+02, -1.12363793e+02, -5.16114432e+02, -1.45591299e+02,
  -1.94501440e+02,  1.42815073e+02, -3.24738448e+02,  2.90884939e+02,
   7.46600378e+01, -2.39696629e+02],
 [-5.97002607e+00, -1.77566363e+02,  2.89624642e+02, -6.90562608e+01,
  -4.26174821e+02, -1.90578326e+02,  1.06030762e+02,  1.09129936e+02,
  -5.69200472e+01, -1.88433900e+02,  1.21929839e+02,  2.56090175e+02,
  -1.73244190e+02,  5.98086412e+01],
 [ 4.15450383e+02, -4.95408110e+00,  1.22182384e+02,  4.45820456e+01,
  -3.54172227e+02, -9.88456345e+01, -3.65074905e+02,  2.95972796e+02,
  -2.05146004e+02,  4.27003519e+02, -1.38618687e+02, -1.41046959e+02,
  -2.21538993e+02,  4.06229692e+01]])


for h in range(10):
    perc = ber(g,15,2,100*(h-5))
    plt.subplot(2,5,h+1)
    plt.imshow(perc, alpha=0.8)
    plt.xticks(np.arange(15))
    plt.yticks(np.arange(15))
    plt.title('h =' + str((h-5)*100))

plt.show()